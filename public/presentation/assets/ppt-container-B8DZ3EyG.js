import{_ as C,r as p,j as L,c,o as n,a as t,f as N,m,F as _,b as w,n as g,p as k,q as y,t as u,v as P}from"./index-OeGSLBTm.js";const T={class:"slides-viewport"},B={class:"controls"},O=["disabled"],$={class:"slide-info"},q=["disabled"],E={class:"progress-bar"},I={class:"thumbnails"},z={class:"thumbnails-header"},F={class:"thumbnails-grid"},K=["onClick"],V={class:"thumbnail-number"},j={class:"thumbnail-preview"},D=250,G={__name:"ppt-container",props:{slides:{type:Array,required:!0},title:{type:String,default:"PPT演示"},thumbnailsLabel:{type:String,default:"幻灯片预览"}},setup(l){const d=l,s=p(0),i=p(!1);let o=0;const v=()=>typeof performance<"u"?performance.now():Date.now(),h=()=>{const e=v();e-o<D||s.value<d.slides.length-1&&(s.value++,o=e)},f=()=>{const e=v();e-o<D||s.value>0&&(s.value--,o=e)},S=e=>{s.value=e,i.value=!1,o=v()},A=e=>{if(e.repeat){e.preventDefault();return}switch(e.key){case"ArrowRight":case" ":e.preventDefault(),h();break;case"ArrowLeft":e.preventDefault(),f();break;case"Home":e.preventDefault(),s.value=0;break;case"End":e.preventDefault(),s.value=d.slides.length-1;break;case"Escape":e.preventDefault(),i.value=!i.value;break}};return L(()=>{document.title=d.title;const e=document.querySelector(".ppt-container");e&&e.focus()}),(e,b)=>(n(),c("div",{class:"ppt-container",onKeydown:A,tabindex:"0"},[t("div",T,[t("div",{class:"slide-wrapper",style:m({transform:`translateX(-${s.value*100}%)`})},[(n(!0),c(_,null,w(l.slides,(r,a)=>(n(),c("div",{key:a,class:g(["slide",{active:s.value===a}])},[(n(),k(y(r),{isActive:s.value===a},null,8,["isActive"]))],2))),128))],4)]),t("div",B,[t("button",{onClick:f,disabled:s.value===0,class:"control-btn"}," ← ",8,O),t("div",$,u(s.value+1)+" / "+u(l.slides.length),1),t("button",{onClick:h,disabled:s.value===l.slides.length-1,class:"control-btn"}," → ",8,q)]),t("div",E,[t("div",{class:"progress",style:m({width:`${(s.value+1)/l.slides.length*100}%`})},null,4)]),N(t("div",I,[t("div",z,[t("h3",null,u(l.thumbnailsLabel),1),t("button",{onClick:b[0]||(b[0]=r=>i.value=!1)},"✕")]),t("div",F,[(n(!0),c(_,null,w(l.slides,(r,a)=>(n(),c("div",{key:a,class:g(["thumbnail",{active:s.value===a}]),onClick:H=>S(a)},[t("div",V,u(a+1),1),t("div",j,[(n(),k(y(r),{isActive:!1,isPreview:!0}))])],10,K))),128))])],512),[[P,i.value]])],32))}},R=C(G,[["__scopeId","data-v-b6dc0a2f"]]);export{R as P};
